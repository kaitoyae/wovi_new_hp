<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>株式会社Wovi</title>
    <link rel="icon" type="image/png" href="images/logowhite.png">
    <meta property="og:image" content="https://wovi.net/images/logowhite.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:title" content="Wovi">
    <meta property="og:description" content="「違い」を、壁から創造の力へと変える。">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://wovi.net/images/logowhite.png">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="components/header.js"></script>
    <script src="components/footer.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=General+Sans:wght@400;600&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* カラーパレット */
        :root {
            --wovi-green: #00A9A4;
            --spark-yellow: #FFD166;
            --off-white: #F9F9F7;
            --dark-text: #000000;
        }
        body {
            font-family: 'Yu Gothic', 'YuGothic', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background-color: #ffffff;
            color: var(--dark-text);
        }
        .font-jp {
            font-family: 'Yu Gothic', 'YuGothic', 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
        }
        /* 見出し用のフォント */
        .font-heading {
            font-family: 'General Sans', 'Noto Sans JP', sans-serif;
        }
        #three-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .content-wrapper {
            position: relative;
            z-index: 1;
        }
        .btn-creative {
            border: 1px solid var(--dark-text);
            color: var(--dark-text);
            transition: all 0.3s ease;
        }
        .btn-creative:hover {
            background-color: var(--spark-yellow);
            color: var(--dark-text);
            border-color: var(--spark-yellow);
        }
        .glass-section {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }
        .hero-text-bg {
            background: transparent;
            padding: 1rem 1.5rem;
            display: inline-block;
            color: black;
        }
        .hero-text-bg .text-green {
            color: var(--wovi-green);
        }
        /* PC - テキストを中央に配置 */
        .hero-section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 1rem 3rem;
        }
        /* タブレット - 中央配置、サイズ調整 */
        @media (max-width: 1024px) {
            .hero-section {
                padding: 1rem 2rem;
            }
            .hero-text-bg {
                padding: 0.75rem 1.25rem;
            }
            .hero-text-bg h2 {
                font-size: 3rem;
                line-height: 1.1;
            }
        }
        /* スマホ - 中央配置 */
        @media (max-width: 768px) {
            .hero-section {
                align-items: center;
                justify-content: center;
                text-align: center;
                padding: 0.75rem 1.5rem;
            }
            .hero-text-bg {
                padding: 0.75rem 1rem;
            }
            .hero-text-bg h2 {
                font-size: 2.5rem;
                line-height: 1.2;
            }
        }
        @media (max-width: 640px) {
            .hero-section {
                padding: 0.5rem 1rem;
            }
            .hero-text-bg {
                padding: 0.5rem 0.75rem;
            }
            .hero-text-bg h2 {
                font-size: 2rem;
                line-height: 1.2;
            }
        }
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <canvas id="three-canvas"></canvas>

    <div class="content-wrapper min-h-screen flex flex-col">
        <!-- ヘッダー -->
        <div id="header-placeholder"></div>

        <!-- メインコンテンツ -->
        <main class="flex-grow">
            <!-- ヒーローセクション -->
            <section class="hero-section">
                <div class="max-w-4xl text-center flex flex-col items-center">
                    <div class="hero-text-bg mb-8">
                        <h2 class="text-4xl md:text-6xl font-semibold leading-tight tracking-tighter">
                            ローカル知を地図に重ねて、<br>
                            <span class="text-green">世界中をもう少し鮮やかに。</span>
                        </h2>
                    </div>
                    <a href="#about" class="inline-block font-semibold py-3 px-10 rounded-full text-lg btn-creative">
                        詳しく見る
                    </a>
                </div>
            </section>

         
            <!-- お知らせ -->
            <section id="news" class="py-20 md:py-32">
                <div class="container mx-auto px-6 max-w-6xl">
                    <div class="text-center mb-16">
                        <h3 class="text-sm font-semibold tracking-widest text-gray-500 uppercase">News</h3>
                        <h4 class="mt-4 text-3xl md:text-4xl font-semibold font-jp">
                            お知らせ
                        </h4>
                    </div>
                    
                    <!-- Note記事一覧 -->
                    <div class="grid md:grid-cols-3 gap-8" id="note-articles">
                        <!-- 記事はJavaScriptで動的に読み込まれます -->
                        <div class="text-center text-gray-600 font-jp col-span-full">
                            <p>記事を読み込み中...</p>
                        </div>
                    </div>
                    
                    <!-- お知らせページへのリンク -->
                    <div class="text-center mt-12">
                        <a href="news.html" class="btn-creative font-semibold py-3 px-8 rounded-full">
                            すべての記事を見る
                        </a>
                    </div>
                </div>
            </section>

            <!-- 事業内容 -->
            <section id="business" class="py-20 md:py-32">
                <div class="container mx-auto px-6 max-w-5xl">
                    <div class="text-center mb-16">
                        <h3 class="text-sm font-semibold tracking-widest text-gray-500 uppercase">Service</h3>
                        <h4 class="mt-4 text-3xl md:text-4xl font-semibold font-jp">
                            事業内容
                        </h4>
                    </div>

                    <!-- まちかどクエスト -->
                    <div class="mb-20 md:mb-32">
                        <div class="rounded-2xl shadow-lg p-8 md:p-12" style="background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
                            <div class="inline-block px-4 py-2 rounded-full text-sm font-semibold tracking-wide text-white mb-6" style="background-color: black;">
                                PRODUCT
                            </div>
                            <div class="grid md:grid-cols-2 gap-12 items-center">
                                <div>
                                    <h5 class="text-2xl md:text-3xl font-semibold font-jp mb-4">
                                        ロカルート
                                    </h5>
                                    <p class="text-lg font-semibold font-jp mb-6" style="color: var(--wovi-green);">
                                        語られざる世界中のローカル知を刻む、地図アプリ。
                                    </p>
                                    <div class="font-jp text-gray-700 leading-relaxed space-y-4">
                                        <p class="font-semibold">どこに行っても、同じ写真、同じスポットばかりじゃありませんか？</p>
                                        <p>検索やSNSで出てくるのは、ランキング上位の観光地や話題のお店ばかり。でもその裏には、地元の人しか知らない小さな神社や、家族で営む食堂、路地裏のアトリエがあります。</p>
                                        <p>ロカルートは、そんな「知られなかったローカル知」を地図に刻み込むアプリ。実際に訪れた人の視点や記憶をルートとして残し、次の旅人へとつなぎます。見つけたルートは自分の旅にリミックスして楽しむこともできます。</p>
                                        <p class="font-semibold">コピー化する世界に、無数のロカルートを。<br>ひとりひとりの視点が重なり合い、世界が鮮やかに立ち上がります。</p>
                                    </div>
                                    <div class="mt-8 flex flex-wrap gap-2">
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">iOS/Androidアプリケーション</span>
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">まちづくり</span>
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">旅行サービス</span>
                                    </div>
                                </div>
                                <div class="flex justify-center">
                                    <div class="w-64 h-64 rounded-2xl overflow-hidden" style="border: 2px solid var(--wovi-green);">
                                        <img src="images/logo_tomotabi.png" alt="ロカルート" class="w-full h-full object-cover">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- DX支援 -->
                    <div class="mb-20 md:mb-32">
                        <div class="rounded-2xl shadow-lg p-8 md:p-12" style="background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
                            <div class="inline-block px-4 py-2 rounded-full text-sm font-semibold tracking-wide text-white mb-6" style="background-color: black;">
                                CONSIGNMENT
                            </div>
                            <div class="grid md:grid-cols-2 gap-12 items-center">
                                <div class="flex justify-center">
                                    <div class="w-64 h-64 rounded-2xl overflow-hidden" style="border: 2px solid var(--spark-yellow);">
                                        <img src="images/hands.png" alt="受託開発/マーケティング支援事業" class="w-full h-full object-cover">
                                    </div>
                                </div>
                                <div>
                                    <h5 class="text-2xl md:text-3xl font-semibold font-jp mb-4">
                                        受託開発/マーケティング支援事業
                                    </h5>
                                    <p class="text-lg font-semibold font-jp mb-6 text-gray-800">
                                        デジタルを、人と社会の共創の糧に。
                                    </p>
                                    <div class="font-jp text-gray-700 leading-relaxed space-y-4">
                                        <p>私たちは、単なるツールとしてのデジタルではなく、  
                                            人や社会を前に進めるための「場」としてデザインします。</p>
                                         <p>ARで語り継がれる物語、AIが支える新しい対話、  
                                            遊び心ある仕掛けから生まれる共感。  
                                            そこには、数字以上の価値があります。</p>
                                        <p class="font-semibold">温かいつながりを育み、未来を共に描く。  
                                            そんなデジタルを、一緒に創り上げていきましょう。</p>
                                    </div>
                                    <div class="mt-8 flex flex-wrap gap-2">
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">体験型ホームページ開発</span>
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">デジタルマーケティング</span>
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">アプリ開発</span>
                                        <span class="px-3 py-1 rounded-full text-sm font-medium bg-gray-100">DX伴走支援</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

            <!-- 会社情報 -->
            <section id="company" class="py-20 md:py-32">
                <div class="container mx-auto px-6 max-w-4xl">
                    <div class="text-center mb-16">
                        <h3 class="text-sm font-semibold tracking-widest text-gray-500 uppercase">Company</h3>
                        <h4 class="mt-4 text-3xl md:text-4xl font-semibold font-jp">
                            企業情報
                        </h4>
                    </div>
                    
                    <div class="rounded-2xl shadow-lg p-8 md:p-12" style="background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
                        <div class="grid md:grid-cols-2 gap-8 md:gap-12">
                            <div class="space-y-6">
                                <div>
                                    <dt class="text-sm font-semibold tracking-wide text-gray-500 uppercase mb-2">会社名</dt>
                                    <dd class="text-lg font-jp font-semibold">株式会社 Wovi</dd>
                                </div>
                                
                                <div>
                                    <dt class="text-sm font-semibold tracking-wide text-gray-500 uppercase mb-2">代表者</dt>
                                    <dd class="text-lg font-jp font-semibold">代表取締役 八重樫 海斗</dd>
                                </div>
                                
                                <div>
                                    <dt class="text-sm font-semibold tracking-wide text-gray-500 uppercase mb-2">設立</dt>
                                    <dd class="text-lg font-jp font-semibold">2025年7月</dd>
                                </div>
                            </div>
                            
                            <div class="space-y-6">
                                <div>
                                    <dt class="text-sm font-semibold tracking-wide text-gray-500 uppercase mb-2">資本金</dt>
                                    <dd class="text-lg font-jp font-semibold">1,000,000円</dd>
                                </div>
                                
                                <div>
                                    <dt class="text-sm font-semibold tracking-wide text-gray-500 uppercase mb-2">所在地</dt>
                                    <dd class="text-lg font-jp font-semibold">〒333-0866<br>埼玉県川口市 芝6306-12</dd>
                                </div>
                                
                                <div class="pt-4">
                                    <a href="company.html" class="inline-block btn-creative font-semibold py-3 px-8 rounded-full">
                                        詳細を見る
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- お問い合わせ -->
            <section id="contact" class="py-20 md:py-32">
                <div class="container mx-auto px-6 max-w-4xl">
                    <div class="text-center mb-16">
                        <h3 class="text-sm font-semibold tracking-widest text-gray-500 uppercase">Contact</h3>
                        <h4 class="mt-4 text-3xl md:text-4xl font-semibold font-jp">
                            お問い合わせ
                        </h4>
                    </div>
                    <div class="rounded-2xl shadow-lg p-8 md:p-12" style="background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
                        <div class="text-center font-jp mb-12">
                            <h5 class="text-2xl font-semibold mb-4">
                                「違い」から新しい価値を。<br>
                                一緒に、世界をもっと鮮やかな場所へと変えていきませんか？
                            </h5>
                            <p class="text-lg text-gray-600">
                                「ロカルート」のマーケティングやまちづくり活用、プロダクト開発など、<br class="hidden md:inline">
                                様々な分野でのコラボレーションをお待ちしています。
                            </p>
                        </div>
                        
                        <form id="contact-form" class="max-w-2xl mx-auto">
                            <div class="space-y-6">
                                <!-- お名前 -->
                                <div>
                                    <label class="block text-sm font-semibold mb-2">
                                        お名前<span class="text-red-500">*</span>
                                    </label>
                                    <input type="text" name="name" required 
                                           class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-gray-500 focus:outline-none transition-colors">
                                    <p class="text-xs text-gray-500 mt-1">この項目は必須です</p>
                                </div>
                                
                                <!-- 会社名 -->
                                <div>
                                    <label class="block text-sm font-semibold mb-2">
                                        会社名
                                    </label>
                                    <input type="text" name="company" 
                                           class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-gray-500 focus:outline-none transition-colors">
                                </div>
                                
                                <!-- メールアドレス -->
                                <div>
                                    <label class="block text-sm font-semibold mb-2">
                                        メールアドレス<span class="text-red-500">*</span>
                                    </label>
                                    <input type="email" name="email" required 
                                           class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-gray-500 focus:outline-none transition-colors">
                                </div>
                                
                                <!-- 電話番号 -->
                                <div>
                                    <label class="block text-sm font-semibold mb-2">
                                        電話番号
                                    </label>
                                    <input type="tel" name="phone" 
                                           class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-gray-500 focus:outline-none transition-colors">
                                </div>
                                
                                <!-- お問い合わせ内容 -->
                                <div>
                                    <label class="block text-sm font-semibold mb-2">
                                        お問い合わせ内容<span class="text-red-500">*</span>
                                    </label>
                                    <textarea name="message" rows="5" required 
                                              class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-gray-500 focus:outline-none transition-colors resize-none"></textarea>
                                </div>
                                
                                <!-- プライバシーポリシー -->
                                <div class="flex items-start">
                                    <input type="checkbox" id="privacy-policy" name="privacy" required 
                                           class="mt-1 mr-3">
                                    <label for="privacy-policy" class="text-sm text-gray-600">
                                        <a href="#" class="underline hover:text-gray-800">プライバシーポリシー</a>に同意する
                                    </label>
                                </div>
                                
                                <!-- 送信ボタン -->
                                <div class="text-center pt-4">
                                    <button type="submit" 
                                            class="inline-block font-semibold py-3 px-10 rounded-full text-white bg-black hover:bg-gray-800 transition-colors duration-200">
                                        送信する
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </section>
        </main>

        <!-- フッター -->
        <div id="footer-placeholder"></div>
    </div>

    <script>
        // Three.jsのセットアップ
        let scene, camera, renderer;
        const branches = [];
        // より鮮やかなカラーパレット
        const colors = [
            0x00A9A4, // Wovi Green
            0xFFD166, // Spark Yellow
            0xf472b6, // Bright Pink
            0x9333ea, // Bright Violet
            0x2563eb, // Bright Blue
            0xdc2626, // Bright Red
            0x65a30d, // Bright Lime
            0xf59e0b, // Bright Orange
            0x06b6d4, // Bright Cyan
        ];

        // 枝を表現するクラス
        class Branch {
            constructor(startPos, color) {
                this.points = [startPos.clone()];
                this.maxPoints = 50 + Math.random() * 50;
                this.isGrowing = true;
                this.velocity = new THREE.Vector3(
                    (Math.random() - 0.5),
                    (Math.random() - 0.5),
                    (Math.random() - 0.5)
                ).normalize(); // 初期方向をランダムに設定

                // 線を太く、色を鮮やかにする（4倍の太さ）
                const material = new THREE.LineBasicMaterial({ color, transparent: true, opacity: 0.9, linewidth: 100 });
                const geometry = new THREE.BufferGeometry().setFromPoints(this.points);
                this.line = new THREE.Line(geometry, material);
                scene.add(this.line);
            }

            grow() {
                if (!this.isGrowing) return;

                const lastPoint = this.points[this.points.length - 1];
                
                // === 適度に曲がる自然な動きのロジック ===
                // 1. 慣性を少し弱めて、適度な曲がりを許可
                this.velocity.multiplyScalar(0.985);

                // 2. 中心から外へ広がる力
                const outwardVector = lastPoint.clone().normalize().multiplyScalar(0.012);
                this.velocity.add(outwardVector);

                // 3. 適度なゆらぎで自然な曲線を作る（直線にならないように）
                const wobble = new THREE.Vector3(
                    (Math.random() - 0.5),
                    (Math.random() - 0.5),
                    (Math.random() - 0.5)
                ).multiplyScalar(0.04);
                this.velocity.add(wobble);

                // 4. 前の方向との平均を軽くして、より曲がりやすく
                if (this.points.length > 2) {
                    const prevDirection = this.points[this.points.length - 1].clone()
                        .sub(this.points[this.points.length - 2]).normalize();
                    this.velocity.lerp(prevDirection, 0.15); // より軽い平滑化
                }

                // 5. 時々方向を少し変更して曲がりを作る
                if (this.points.length % 8 === 0) {
                    const randomTurn = new THREE.Vector3(
                        (Math.random() - 0.5),
                        (Math.random() - 0.5),
                        (Math.random() - 0.5)
                    ).normalize().multiplyScalar(0.15);
                    this.velocity.add(randomTurn);
                }
                // === ロジックここまで ===

                // 速度を正規化して、適切な速さに保つ
                this.velocity.normalize().multiplyScalar(0.05);

                const newPoint = lastPoint.clone().add(this.velocity);
                this.points.push(newPoint);

                this.line.geometry.setFromPoints(this.points);

                if (this.points.length > this.maxPoints) {
                    this.isGrowing = false;
                }
                
                // 枝分かれのロジック（より自然な分岐）
                if (Math.random() < 0.015 && branches.length < 120 && this.points.length > 10) {
                    // 新しいブランチは親の方向を滑らかに引き継ぎつつ、自然な角度で分岐する
                    const newVelocity = this.velocity.clone().applyAxisAngle(
                        new THREE.Vector3(Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5).normalize(),
                        (Math.random() - 0.5) * 0.5 // より小さい分岐角度でより自然に
                    );
                    const newBranch = new Branch(newPoint, this.line.material.color);
                    newBranch.velocity = newVelocity.multiplyScalar(0.8); // 子枝は少し遅く成長
                    branches.push(newBranch);
                }
            }
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 10;
            renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);

            // 最初の枝を生成
            for (let i = 0; i < 5; i++) {
                const color = colors[Math.floor(Math.random() * colors.length)];
                branches.push(new Branch(new THREE.Vector3(0,0,0), color));
            }

            window.addEventListener('resize', onWindowResize);
            window.addEventListener('scroll', onScroll);
            
            // 時間経過で新しい枝を追加
            setInterval(addNewBranch, branchInterval);
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        
        let lastBranchTime = 0;
        const branchInterval = 1000; // 1秒ごとに新しい枝を追加
        
        // スクロール位置を追跡
        let scrollY = 0;
        let autoRotation = true;
        let lastInteractionTime = Date.now();
        let animationStartTime = Date.now();
        const rotationDelay = 3000; // 3秒後に回転開始
        
        function addNewBranch() {
            if (branches.length < 120) {
                const xPos = (Math.random() - 0.5) * 8;
                const yPos = (Math.random() - 0.5) * 8;
                const zPos = (Math.random() - 0.5) * 8;
                
                const color = colors[Math.floor(Math.random() * colors.length)];
                branches.push(new Branch(new THREE.Vector3(xPos, yPos, zPos), color));
            }
        }
        
        // スクロールイベントハンドラー
        function onScroll() {
            scrollY = window.scrollY / window.innerHeight;
            autoRotation = false;
            lastInteractionTime = Date.now();
        }

        function animate() {
            requestAnimationFrame(animate);

            branches.forEach(branch => branch.grow());
            
            const now = Date.now();
            const timeSinceStart = now - animationStartTime;
            
            // アニメーション開始から一定時間後に回転を開始
            if (timeSinceStart > rotationDelay) {
                // 自動回転または手動制御の判定
                if (now - lastInteractionTime > 3000) {
                    autoRotation = true;
                }
                
                if (autoRotation) {
                    // 自動回転（速度を半分に）
                    scene.rotation.x += 0.0015;
                    scene.rotation.y += 0.0025;
                } else {
                    // スクロールベースの回転（速度を1/5に）
                    const targetRotationX = scrollY * Math.PI * 0.2;
                    const targetRotationY = scrollY * Math.PI * 0.15;
                    scene.rotation.x += (targetRotationX - scene.rotation.x) * 0.005;
                    scene.rotation.y += (targetRotationY - scene.rotation.y) * 0.005;
                }
            }

            renderer.render(scene, camera);
        }
        
        // ページロード完了後にThree.jsを初期化
        window.addEventListener('DOMContentLoaded', function() {
            // ヘッダーとフッターをロード
            document.getElementById('header-placeholder').innerHTML = createHeader();
            document.getElementById('footer-placeholder').innerHTML = createFooter();
            
            // ヘッダーのイベントリスナーを初期化
            initializeHeaderEvents();
            
            init();
            animate();
            loadNoteArticles();
        });

        // Note記事を取得する関数（最高速版 - note-api-2のみ）
        async function loadNoteArticles() {
            const noteContainer = document.getElementById('note-articles');
            
            try {
                const response = await fetch('https://corsproxy.io/?' + encodeURIComponent('https://note.com/api/v2/creators/wovi/contents?kind=note&page=1'));
                const data = await response.json();
                
                if (data.data?.contents) {
                    // デバッグ用：データ構造を詳しく確認
                    console.log('取得したデータ構造:', JSON.stringify(data.data.contents[0], null, 2));
                    
                    const articles = data.data.contents.slice(0, 3).map(item => {
                        // 画像URLの候補を全て確認
                        let imageUrl = item.thumbnailExternalUrl || 
                                     item.eyecatch?.src || 
                                     item.eyecatch?.url ||
                                     item.thumbnail?.url ||
                                     item.thumbnail?.src ||
                                     item.coverImageUrl ||
                                     item.image?.url ||
                                     '';
                        
                        // 見出し画像がない場合は本文から画像を抽出
                        if (!imageUrl && item.body) {
                            const imgMatch = item.body.match(/<img[^>]+src="([^"]+)"/);
                            if (imgMatch) {
                                imageUrl = imgMatch[1];
                            }
                        }
                        
                        // 最後の手段：ユーザープロフィール画像を使用
                        let isUserProfile = false;
                        if (!imageUrl && item.user?.userProfileImagePath) {
                            imageUrl = item.user.userProfileImagePath;
                            isUserProfile = true;
                            console.log(`ユーザープロフィール画像を使用: ${imageUrl}`);
                        }
                        
                        console.log(`記事: ${item.name}, 画像URL: ${imageUrl}`);
                        
                        return {
                            title: item.name || '',
                            link: item.noteUrl || '',
                            pubDate: item.publishAt || '',
                            description: (item.body || '').replace(/<[^>]*>/g, '').substring(0, 150),
                            thumbnail: imageUrl,
                            isUserProfile: isUserProfile
                        };
                    });
                    
                    console.log(`記事取得成功: ${articles.length}件`);
                    
                    // 記事を表示
                    noteContainer.innerHTML = '';
                    articles.forEach(item => {
                        const articleElement = document.createElement('div');
                        articleElement.className = 'rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300';
                        articleElement.style.background = 'rgba(255, 255, 255, 0.4)';
                        articleElement.style.backdropFilter = 'blur(8px)';
                        articleElement.style.webkitBackdropFilter = 'blur(8px)';
                        
                        const imageHtml = item.thumbnail 
                            ? `<div class="h-48 overflow-hidden ${item.isUserProfile ? 'flex items-center justify-center' : ''}" style="${item.isUserProfile ? 'background-color: white;' : ''}">
                                   <img src="${item.thumbnail}" alt="${item.title}" class="${item.isUserProfile ? '' : 'w-full h-full'} object-cover hover:scale-105 transition-transform duration-300" style="${item.isUserProfile ? 'max-width: 50%; max-height: 50%; object-fit: contain;' : 'max-width: 100%; max-height: 100%; object-fit: cover;'}" loading="lazy" onerror="this.parentElement.innerHTML='<div class=\\'h-48 flex items-center justify-center\\' style=\\'background-color: var(--wovi-green);\\'>\\n</div>'">
                               </div>`
                            : `<div class="h-48 flex items-center justify-center" style="background-color: var(--wovi-green);">
                               </div>`;
                        
                        articleElement.innerHTML = `
                            ${imageHtml}
                            <div class="p-6">
                                <div class="text-sm text-gray-500 mb-2">
                                    ${new Date(item.pubDate).toLocaleDateString('ja-JP')}
                                </div>
                                <h5 class="text-lg font-semibold font-jp mb-3 line-clamp-2">
                                    ${item.title}
                                </h5>
                                <p class="text-gray-600 text-sm leading-relaxed mb-4">
                                    ${item.description}...
                                </p>
                                <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="inline-block text-sm font-medium py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors duration-200">
                                    記事を読む
                                </a>
                            </div>
                        `;
                        
                        noteContainer.appendChild(articleElement);
                    });
                    return;
                }
            } catch (error) {
                console.warn('記事取得エラー:', error);
            }
            
            // エラー時の表示
            noteContainer.innerHTML = `
                <div class="col-span-full text-center">
                    <div class="rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300" style="background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);">
                        <div class="h-48 flex items-center justify-center" style="background-color: var(--wovi-green);">
                        </div>
                        <div class="p-6">
                            <h5 class="text-lg font-semibold font-jp mb-3">
                                最新記事はnoteで公開中
                            </h5>
                            <p class="text-gray-600 text-sm leading-relaxed mb-4">
                                Woviの最新情報や活動報告をnoteで発信しています。
                            </p>
                            <a href="https://note.com/wovi/all" target="_blank" rel="noopener noreferrer" class="inline-block text-sm font-medium py-2 px-4 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors duration-200">
                                noteで記事を見る
                            </a>
                        </div>
                    </div>
                </div>
            `;
        }

        // モバイルメニューの開閉

        // フォーム送信処理
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // フォームデータを取得
                    const formData = new FormData(contactForm);
                    const data = Object.fromEntries(formData);
                    
                    // メール送信用のURL構築
                    const subject = encodeURIComponent('お問い合わせ - Wovi');
                    const body = encodeURIComponent(`
お名前: ${data.name}
会社名: ${data.company || '(未入力)'}
メールアドレス: ${data.email}
電話番号: ${data.phone || '(未入力)'}

お問い合わせ内容:
${data.message}
                    `);
                    
                    const mailtoUrl = `mailto:info@wovi.net?subject=${subject}&body=${body}`;
                    
                    // メールアプリを開く
                    window.location.href = mailtoUrl;
                    
                    // 確認メッセージ
                    alert('メールアプリが開きます。\n送信完了後、担当者よりご連絡させていただきます。');
                    
                    // フォームをリセット
                    contactForm.reset();
                });
            }
        });
    </script>

</body>
</html>